#!/bin/bash
#
# Run me as a cronjob like:
# * * * * * export DISPLAY=:0 USER=klay && xscreensaver-cron
#

if [ -z "$(pidof Xorg)" ]; then
  exit 0
fi

export XAUTHORITY=/home/${USER}/.Xauthority

/usr/bin/xscreensaver-command -time >>/dev/null 2>&1

# looks like there is no screensaver running
if [ $? != 0 ]; then
  # double check
  if [ -z "$(pidof xscreensaver)" ] ; then
    /usr/bin/xscreensaver -no-splash &
  fi
fi
