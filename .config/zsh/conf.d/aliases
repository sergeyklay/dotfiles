# This file contains the definition of aliases.
#
# This file is sourced on interactive invocations of zsh.
#   .zshenv -> .zprofile -> .zshrc -> [aliases] -> .zlogin
#
# For $OSSHORT, $ZSHDDIR and other variables see .zshenv.

# Things the shell shouldn't correct on:
alias cp='nocorrect cp'
alias mv='nocorrect mv'

# Globbing doesn't make sense for mkdir.
alias mkdir='nocorrect noglob mkdir'

# Color support for grep
alias grep='grep --colour=auto'
alias egrep='egrep --colour=auto'

# Wget will use the supplied file as the HSTS database
if command -v wget >/dev/null 2>&1; then
  alias wget="wget --hsts-file=${XDG_CACHE_HOME:-$HOME/.cache}/wget-hsts"
fi

if command -v nerdctl >/dev/null 2>&1; then
  alias nps="nerdctl ps --format '{{.ID}}    {{.Names}}    {{.Status}}'"
fi

if command -v docker >/dev/null 2>&1; then
  alias dps="docker ps --format 'table {{.ID}}\t{{.Names}}\t{{.Status}}'"
fi

if command -v kubectl >/dev/null 2>&1; then
  alias k='kubectl'
  alias kcd='k config set-context $(k config current-context) --namespace '
fi

if command -v clojure >/dev/null 2>&1; then
  alias rebel='clojure -A:rebel'
fi

if command -v colordiff >/dev/null 2>&1; then
  alias diff='colordiff -Nuar'
else
  alias diff='diff -Nuar'
fi

# OS specific aliases.
[ -r $ZSHDDIR/conf.d/OS/$OSSHORT/aliases ] && {
  source $ZSHDDIR/conf.d/OS/$OSSHORT/aliases
}

# PATH completion support for sudo
if [[ $UID != 0 ]] && (($+commands[sudo])); then
  typeset -xT SUDO_PATH sudo_path

  # No duplicate entries are needed.
  typeset -U sudo_path

  sudo_path=({,/usr/local,/usr}/sbin(N-/))
  alias sudo="sudo env PATH=\"$SUDO_PATH:$PATH\""
fi

if [[ $TERM == "dumb" ]]; then
  alias less='cat'
fi

# See https://specmatic.in
if [[ ~/.local/bin/specmatic.jar ]]; then
  alias specmatic='java -jar ~/.local/bin/specmatic.jar'
fi

# Local Variables:
# mode: shell-script
# End:
